(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48304,e=>{"use strict";var t=e.i(96647),r=e.i(50239);let a=(0,e.i(7247).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["TopBar",0,({title:e,showBack:o=!1,backPath:i,actions:s})=>{let l=(0,r.useRouter)();return(0,t.jsx)("header",{className:"sticky top-0 z-30 bg-[var(--color-bg-primary)]/95 backdrop-blur-md border-b border-[var(--color-border)]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-[56px] px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o&&(0,t.jsx)("button",{onClick:()=>{i?l.push(i):l.back()},className:"flex items-center justify-center w-8 h-8 -ml-1 rounded-full hover:bg-[var(--color-bg-tertiary)] transition-colors",children:(0,t.jsx)(a,{size:24,className:"text-[var(--color-brand)]"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-[var(--color-text-primary)] truncate",children:e})]}),s&&(0,t.jsx)("div",{className:"flex items-center gap-2 ml-2",children:s})]})})}],48304)},44727,e=>{"use strict";e.i(89152);var t=e.i(96647),r=e.i(53459),a=e.i(53695),o=e.i(68787),i=e.i(46992),s=e.i(59824),l=e.i(60247),n=r,c=e.i(9423);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,r=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,a=(0,l.isHTMLElement)(e)&&e.offsetHeight||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=r-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:a,anchorX:o,anchorY:i,root:s,pop:l}){let x=(0,n.useId)(),p=(0,n.useRef)(null),m=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:h}=(0,n.useContext)(c.MotionConfigContext),f=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=d(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(p,e.props?.ref??e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n,right:c,bottom:d}=m.current;if(a||!1===l||!p.current||!e||!t)return;let u="left"===o?`left: ${n}`:`right: ${c}`,f="bottom"===i?`bottom: ${d}`:`top: ${r}`;p.current.dataset.motionPopId=x;let v=document.createElement("style");h&&(v.nonce=h);let y=s??document.head;return y.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${x}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${f}px !important;
          }
        `),()=>{y.contains(v)&&y.removeChild(v)}},[a]),(0,t.jsx)(u,{isPresent:a,childRef:p,sizeRef:m,pop:l,children:!1===l?e:n.cloneElement(e,{ref:f})})}let p=({children:e,initial:a,isPresent:i,onExitComplete:l,custom:n,presenceAffectsLayout:c,mode:d,anchorX:u,anchorY:p,root:h})=>{let f=(0,o.useConstant)(m),v=(0,r.useId)(),y=!0,b=(0,r.useMemo)(()=>(y=!1,{id:v,initial:a,isPresent:i,custom:n,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;l&&l()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[i,f,l]);return c&&y&&(b={...b}),(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),r.useEffect(()=>{i||f.size||!l||l()},[i]),e=(0,t.jsx)(x,{pop:"popLayout"===d,isPresent:i,anchorX:u,anchorY:p,root:h,children:e}),(0,t.jsx)(s.PresenceContext.Provider,{value:b,children:e})};function m(){return new Map}var h=e.i(56310);let f=e=>e.key||"";function v(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:s,initial:l=!0,onExitComplete:n,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:x="left",anchorY:m="top",root:y})=>{let[b,g]=(0,h.usePresence)(u),j=(0,r.useMemo)(()=>v(e),[e]),N=u&&!b?[]:j.map(f),k=(0,r.useRef)(!0),w=(0,r.useRef)(j),C=(0,o.useConstant)(()=>new Map),P=(0,r.useRef)(new Set),[M,S]=(0,r.useState)(j),[E,T]=(0,r.useState)(j);(0,i.useIsomorphicLayoutEffect)(()=>{k.current=!1,w.current=j;for(let e=0;e<E.length;e++){let t=f(E[e]);N.includes(t)?(C.delete(t),P.current.delete(t)):!0!==C.get(t)&&C.set(t,!1)}},[E,N.length,N.join("-")]);let R=[];if(j!==M){let e=[...j];for(let t=0;t<E.length;t++){let r=E[t],a=f(r);N.includes(a)||(e.splice(t,0,r),R.push(r))}return"wait"===d&&R.length&&(e=R),T(v(e)),S(j),null}let{forceRender:L}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let r=f(e),a=(!u||!!b)&&(j===E||N.includes(r));return(0,t.jsx)(p,{isPresent:a,initial:(!k.current||!!l)&&void 0,custom:s,presenceAffectsLayout:c,mode:d,root:y,onExitComplete:a?void 0:()=>{if(P.current.has(r)||(P.current.add(r),!C.has(r)))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(L?.(),T(w.current),u&&g?.(),n&&n())},anchorX:x,anchorY:m,children:e},r)})})};e.s(["AnimatePresence",()=>y],44727)},39509,e=>{"use strict";var t=e.i(96647),r=e.i(61693);let a={primary:"bg-[var(--color-brand)] text-white hover:opacity-90 active:opacity-80",secondary:"bg-[var(--color-bg-tertiary)] text-[var(--color-text-primary)] hover:bg-[var(--color-border)] active:opacity-80",ghost:"bg-transparent text-[var(--color-text-secondary)] hover:bg-[var(--color-bg-tertiary)] active:opacity-80",outline:"bg-transparent border border-[var(--color-border)] text-[var(--color-text-primary)] hover:bg-[var(--color-bg-secondary)] active:opacity-80"},o={sm:"px-3 py-1.5 text-sm rounded-[var(--radius-sm)]",md:"px-4 py-2.5 text-sm rounded-[var(--radius-md)]",lg:"px-6 py-3 text-base rounded-[var(--radius-md)]",full:"w-full px-4 py-3 text-base rounded-[var(--radius-md)]"};e.s(["Button",0,({children:e,variant:i="primary",size:s="md",onClick:l,disabled:n=!1,className:c="",type:d="button"})=>(0,t.jsx)("button",{type:d,onClick:l,disabled:n,className:(0,r.cn)("inline-flex items-center justify-center font-semibold transition-all duration-150",a[i],o[s],n&&"opacity-50 cursor-not-allowed",c),children:e})])},73298,e=>{"use strict";let t=(0,e.i(7247).default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>t],73298)},31735,e=>{"use strict";let t=(0,e.i(7247).default)("plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);e.s(["Plane",()=>t],31735)},24912,e=>{"use strict";var t=e.i(96647),r=e.i(53459),a=e.i(24619),o=e.i(44727),i=e.i(48304),s=e.i(39509);let l=({startDate:e,endDate:r,onChange:a})=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-[var(--color-text-secondary)] mb-1",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:e,onChange:e=>a(e.target.value,r),className:"w-full px-3 py-2.5 bg-[var(--color-bg-tertiary)] rounded-[var(--radius-md)] text-sm text-[var(--color-text-primary)] outline-none focus:ring-2 focus:ring-[var(--color-brand)]/20"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-[var(--color-text-secondary)] mb-1",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:r,onChange:t=>a(e,t.target.value),className:"w-full px-3 py-2.5 bg-[var(--color-bg-tertiary)] rounded-[var(--radius-md)] text-sm text-[var(--color-text-primary)] outline-none focus:ring-2 focus:ring-[var(--color-brand)]/20"})]})]});var n=e.i(61693),c=e.i(46949);let d=({selected:e,onChange:r})=>{let{circles:a}=(0,c.useStore)();return(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>{e.includes("all_contacts")?r([]):r(["all_contacts"])},className:(0,n.cn)("px-3 py-1.5 rounded-full text-sm font-medium transition-colors",e.includes("all_contacts")?"bg-[var(--color-brand)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)]"),children:"All Contacts"}),a.map(a=>(0,t.jsxs)("button",{onClick:()=>{var t;return t=a.id,void(e.includes(t)?r(e.filter(e=>e!==t)):r([...e,t]))},className:(0,n.cn)("px-3 py-1.5 rounded-full text-sm font-medium transition-colors",e.includes(a.id)?"bg-[var(--color-brand)] text-white":"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)]"),children:[a.emoji," ",a.name]},a.id))]})};var u=e.i(50239),x=e.i(58426),p=e.i(31735),m=e.i(73298);let h=(0,e.i(7247).default)("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),f=[{id:"short_trip",label:"Short Trip",icon:p.Plane},{id:"long_trip",label:"Long Trip",icon:x.MapPin},{id:"event",label:"Event",icon:h},{id:"work_travel",label:"Work Travel",icon:m.Briefcase}];function v(){let e=(0,u.useRouter)(),{addPlan:n}=(0,c.useStore)(),[p,m]=(0,r.useState)(0),[h,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[N,k]=(0,r.useState)("short_trip"),[w,C]=(0,r.useState)(["close_friends"]),[P,M]=(0,r.useState)(""),S=["Destination","Dates","Type","Visibility","Notes"];return(0,t.jsxs)("div",{className:"min-h-screen bg-[var(--color-bg-primary)]",children:[(0,t.jsx)(i.TopBar,{title:"New Plan",showBack:!0,backPath:"/plans"}),(0,t.jsxs)("div",{className:"px-4 pt-3",children:[(0,t.jsx)("div",{className:"flex gap-1",children:S.map((e,r)=>(0,t.jsx)("div",{className:`flex-1 h-1 rounded-full transition-colors ${r<=p?"bg-[var(--color-brand)]":"bg-[var(--color-border)]"}`},r))}),(0,t.jsxs)("p",{className:"text-xs text-[var(--color-text-tertiary)] mt-2",children:["Step ",p+1," of ",S.length,": ",S[p]]})]}),(0,t.jsxs)("div",{className:"px-4 pt-6 pb-4",children:[(0,t.jsxs)(o.AnimatePresence,{mode:"wait",children:[0===p&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-1",children:"Where are you going?"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-4",children:"Enter your destination city or country"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.MapPin,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--color-text-tertiary)]"}),(0,t.jsx)("input",{type:"text",value:h,onChange:e=>v(e.target.value),placeholder:"e.g. Lisbon, Tokyo, New York...",className:"w-full pl-10 pr-4 py-3 bg-[var(--color-bg-tertiary)] rounded-[var(--radius-md)] text-base text-[var(--color-text-primary)] placeholder:text-[var(--color-text-tertiary)] outline-none focus:ring-2 focus:ring-[var(--color-brand)]/20",autoFocus:!0})]})]},"destination"),1===p&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-1",children:"When are you going?"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-4",children:"Select your travel dates"}),(0,t.jsx)(l,{startDate:y,endDate:g,onChange:(e,t)=>{b(e),j(t)}})]},"dates"),2===p&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-1",children:"What kind of trip?"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-4",children:"This helps us match you with the right people"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:f.map(e=>{let r=e.icon,a=N===e.id;return(0,t.jsxs)("button",{onClick:()=>k(e.id),className:`p-4 rounded-[var(--radius-md)] border-2 transition-all ${a?"border-[var(--color-brand)] bg-[var(--color-brand-light)]":"border-[var(--color-border)] bg-[var(--color-bg-primary)]"}`,children:[(0,t.jsx)(r,{size:24,className:a?"text-[var(--color-brand)]":"text-[var(--color-text-tertiary)]"}),(0,t.jsx)("span",{className:`block text-sm font-medium mt-2 ${a?"text-[var(--color-brand)]":"text-[var(--color-text-primary)]"}`,children:e.label})]},e.id)})})]},"type"),3===p&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-1",children:"Who can see this plan?"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-4",children:"Choose which circles can view your travel plans"}),(0,t.jsx)(d,{selected:w,onChange:C})]},"visibility"),4===p&&(0,t.jsxs)(a.motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-[var(--color-text-primary)] mb-1",children:"Any notes?"}),(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mb-4",children:"Add context for friends who might want to join"}),(0,t.jsx)("textarea",{value:P,onChange:e=>M(e.target.value),placeholder:"e.g. Looking for restaurant recs, open to meetups...",rows:4,className:"w-full px-4 py-3 bg-[var(--color-bg-tertiary)] rounded-[var(--radius-md)] text-sm text-[var(--color-text-primary)] placeholder:text-[var(--color-text-tertiary)] outline-none focus:ring-2 focus:ring-[var(--color-brand)]/20 resize-none"})]},"notes")]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-8",children:[p>0&&(0,t.jsx)(s.Button,{variant:"secondary",size:"full",onClick:()=>m(p-1),children:"Back"}),(0,t.jsx)(s.Button,{size:"full",onClick:()=>{p<S.length-1?m(p+1):(n({id:`plan_new_${Date.now()}`,userId:"user_me",destination:h,dates:{start:y,end:g},type:N,visibility:w[0]??"all_contacts",notes:P}),e.push("/plans"))},disabled:!(()=>{switch(p){case 0:return h.trim().length>0;case 1:return y&&g;case 2:case 4:return!0;case 3:return w.length>0;default:return!1}})(),children:p===S.length-1?"Create Plan":"Next"})]})]})]})}e.s(["default",()=>v],24912)}]);