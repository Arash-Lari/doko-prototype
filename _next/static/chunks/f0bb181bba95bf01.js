(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48304,e=>{"use strict";var t=e.i(96647),a=e.i(50239);let s=(0,e.i(7247).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["TopBar",0,({title:e,showBack:r=!1,backPath:l,actions:i})=>{let n=(0,a.useRouter)();return(0,t.jsx)("header",{className:"sticky top-0 z-30 bg-[var(--color-bg-primary)]/95 backdrop-blur-md border-b border-[var(--color-border)]",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-[56px] px-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r&&(0,t.jsx)("button",{onClick:()=>{l?n.push(l):n.back()},className:"flex items-center justify-center w-8 h-8 -ml-1 rounded-full hover:bg-[var(--color-bg-tertiary)] transition-colors",children:(0,t.jsx)(s,{size:24,className:"text-[var(--color-brand)]"})}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-[var(--color-text-primary)] truncate",children:e})]}),i&&(0,t.jsx)("div",{className:"flex items-center gap-2 ml-2",children:i})]})})}],48304)},16113,e=>{"use strict";var t=e.i(96647),a=e.i(61693);let s={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-[120px] h-[120px] text-2xl"};e.s(["Avatar",0,({src:e,name:r,size:l="md",className:i=""})=>{let n=(0,a.getInitials)(r);return(0,t.jsxs)("div",{className:`relative rounded-full overflow-hidden flex-shrink-0 flex items-center justify-center bg-[var(--color-bg-tertiary)] ${s[l]} ${i}`,children:[e?(0,t.jsx)("img",{src:e,alt:r,className:"w-full h-full object-cover",onError:e=>{let t=e.target;t.style.display="none";let a=t.parentElement;if(a){let e=a.querySelector("[data-fallback]");e&&(e.style.display="flex")}}}):null,(0,t.jsx)("span",{"data-fallback":!0,className:`absolute inset-0 flex items-center justify-center font-semibold text-[var(--color-text-secondary)] ${e?"hidden":"flex"}`,style:{display:e?"none":"flex"},children:n})]})}])},88069,e=>{"use strict";let t=(0,e.i(7247).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],88069)},42059,e=>{"use strict";let t=(0,e.i(7247).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],42059)},60421,e=>{"use strict";let t=(0,e.i(7247).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],60421)},9347,e=>{"use strict";let t=(0,e.i(7247).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],9347)},17747,e=>{"use strict";var t=e.i(96647),a=e.i(61693);let s={default:"bg-[var(--color-bg-tertiary)] text-[var(--color-text-secondary)]",brand:"bg-[var(--color-brand-light)] text-[var(--color-brand)]",success:"bg-emerald-50 text-emerald-600 dark:bg-emerald-950 dark:text-emerald-400",warning:"bg-amber-50 text-amber-600 dark:bg-amber-950 dark:text-amber-400",error:"bg-red-50 text-red-600 dark:bg-red-950 dark:text-red-400"},r={sm:"px-2 py-0.5 text-[11px]",md:"px-2.5 py-1 text-xs"};e.s(["Badge",0,({text:e,variant:l="default",size:i="sm",className:n=""})=>(0,t.jsx)("span",{className:(0,a.cn)("inline-flex items-center font-medium rounded-full whitespace-nowrap",s[l],r[i],n),children:e})])},8719,e=>{"use strict";let t=(0,e.i(7247).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],8719)},50255,e=>{"use strict";var t=e.i(96647),a=e.i(53459),s=e.i(8719),r=e.i(42059);let l=(0,e.i(7247).default)("calendar-plus",[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]]);var i=e.i(58426),n=e.i(9347),o=e.i(24619),c=e.i(44727),d=e.i(50239);e.s(["FAB",0,({variant:e="daily"})=>{let[m,x]=(0,a.useState)(!1),p=(0,d.useRouter)(),h={daily:[{id:"moment",label:"New Moment",icon:r.MessageCircle,onClick:()=>p.push("/daily?compose=moment")},{id:"plan",label:"New Plan",icon:l,onClick:()=>p.push("/plans/new")},{id:"event",label:"New Event",icon:i.MapPin,onClick:()=>p.push("/places/new")}],plans:[{id:"plan",label:"New Plan",icon:l,onClick:()=>p.push("/plans/new")}],places:[{id:"event",label:"Host Event",icon:i.MapPin,onClick:()=>p.push("/places/new")}]},v=h[e]??h.daily,y=1===v.length;return(0,t.jsxs)("div",{className:"fixed bottom-[100px] right-4 z-30 max-w-[390px]",children:[(0,t.jsx)(c.AnimatePresence,{children:m&&!y&&(0,t.jsx)(o.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-[60px] right-0 flex flex-col gap-2 items-end",children:v.map((e,a)=>{let s=e.icon;return(0,t.jsxs)(o.motion.button,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:10},transition:{delay:.05*a},onClick:()=>{e.onClick(),x(!1)},className:"flex items-center gap-2 px-4 py-2.5 bg-[var(--color-bg-primary)] rounded-full shadow-lg border border-[var(--color-border)]",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-[var(--color-text-primary)] whitespace-nowrap",children:e.label}),(0,t.jsx)(s,{size:18,className:"text-[var(--color-brand)]"})]},e.id)})})}),(0,t.jsx)(o.motion.button,{whileTap:{scale:.9},onClick:()=>{y?v[0].onClick():x(!m)},className:"w-14 h-14 rounded-full bg-[var(--color-brand)] text-white flex items-center justify-center shadow-lg",children:(0,t.jsx)(o.motion.div,{animate:{rotate:45*!!m},transition:{duration:.2},children:m?(0,t.jsx)(n.X,{size:24}):(0,t.jsx)(s.Plus,{size:24})})})]})}],50255)},61772,e=>{"use strict";var t=e.i(96647),a=e.i(53459),s=e.i(24619),r=e.i(48304),l=e.i(50255),i=e.i(17747),n=e.i(16113),o=e.i(46949),c=e.i(50239),d=e.i(61693),m=e.i(58426),x=e.i(60421),p=e.i(88069),h=e.i(99102);function v(){let e=(0,c.useRouter)(),{plans:v,contacts:y}=(0,o.useStore)(),u=(0,a.useMemo)(()=>v.filter(e=>"user_me"===e.userId),[v]),b=(0,a.useMemo)(()=>v.filter(e=>"user_me"!==e.userId),[v]),f={short_trip:"Short Trip",long_trip:"Long Trip",event:"Event",work_travel:"Work Travel"};return(0,t.jsxs)("div",{className:"min-h-screen bg-[var(--color-bg-secondary)]",children:[(0,t.jsx)(r.TopBar,{title:"Plans"}),(0,t.jsxs)("div",{className:"px-4 pt-3 pb-4 space-y-4",children:[0===u.length&&0===b.length&&(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col items-center py-16 text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-[var(--color-brand-light)] flex items-center justify-center mb-3",children:(0,t.jsx)(h.Compass,{size:24,className:"text-[var(--color-brand)]"})}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:"No plans yet"}),(0,t.jsx)("p",{className:"text-xs text-[var(--color-text-tertiary)] mt-1",children:"Create your first plan to discover overlaps"})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-[var(--color-text-secondary)] uppercase tracking-wider mb-2",children:"My Plans"}),u.map((e,a)=>(0,t.jsxs)(s.motion.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"bg-[var(--color-bg-primary)] rounded-[var(--radius-lg)] p-4 border border-[var(--color-border)] shadow-[var(--shadow-sm)] mb-3",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-[var(--radius-md)] bg-[var(--color-brand-light)] flex items-center justify-center",children:(0,t.jsx)(m.MapPin,{size:22,className:"text-[var(--color-brand)]"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-[var(--color-text-primary)]",children:e.destination}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[(0,t.jsx)(x.Calendar,{size:12,className:"text-[var(--color-text-tertiary)]"}),(0,t.jsxs)("span",{className:"text-xs text-[var(--color-text-secondary)]",children:[(0,d.formatDateShort)(e.dates.start)," – ",(0,d.formatDateShort)(e.dates.end)]})]})]})]}),(0,t.jsx)(i.Badge,{text:f[e.type]??e.type})]}),e.notes&&(0,t.jsx)("p",{className:"text-sm text-[var(--color-text-secondary)] mt-3",children:e.notes}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-3",children:(0,t.jsx)(i.Badge,{text:"all_contacts"===e.visibility?"All Contacts":e.visibility.replace("_"," "),variant:"default"})}),e.overlaps&&e.overlaps.length>0&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-[var(--color-border)]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 mb-2",children:[(0,t.jsx)(p.Sparkles,{size:14,className:"text-[var(--color-brand)]"}),(0,t.jsxs)("span",{className:"text-xs font-semibold text-[var(--color-brand)]",children:[e.overlaps.length," Overlap",e.overlaps.length>1?"s":""," Found!"]})]}),e.overlaps.map(e=>{let a=y.find(t=>t.id===e.contactId);return(0,t.jsxs)("div",{className:"flex items-center gap-2 bg-[var(--color-brand-light)] rounded-[var(--radius-sm)] p-2 mb-1",children:[(0,t.jsx)(n.Avatar,{src:a?.avatar,name:e.contactName,size:"sm"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--color-text-primary)]",children:e.contactName}),(0,t.jsxs)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[e.overlapDays," days overlap ·"," ",(0,d.formatDateShort)(e.overlapDates.start)," –"," ",(0,d.formatDateShort)(e.overlapDates.end)]})]})]},e.contactId)})]})]},e.id))]}),b.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-[var(--color-text-secondary)] uppercase tracking-wider mb-2",children:"Friends' Plans"}),b.map((a,r)=>{let l=y.find(e=>e.id===a.userId);return(0,t.jsx)(s.motion.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{delay:(u.length+r)*.05},onClick:()=>l&&e.push(`/contacts/${l.id}`),className:"bg-[var(--color-bg-primary)] rounded-[var(--radius-md)] p-3 border border-[var(--color-border)] mb-2 cursor-pointer",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Avatar,{src:l?.avatar,name:l?.name??"Unknown",size:"md"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold text-[var(--color-text-primary)]",children:[l?.name," → ",a.destination]}),(0,t.jsxs)("p",{className:"text-xs text-[var(--color-text-secondary)]",children:[(0,d.formatDateShort)(a.dates.start)," – ",(0,d.formatDateShort)(a.dates.end)]})]}),(0,t.jsx)(i.Badge,{text:f[a.type]??a.type})]})},a.id)})]})]}),(0,t.jsx)(l.FAB,{variant:"plans"})]})}e.s(["default",()=>v])}]);